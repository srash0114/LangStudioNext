(()=>{var e={};e.id=636,e.ids=[636],e.modules={656:(e,r,t)=>{Promise.resolve().then(t.bind(t,75758))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16542:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(60687),s=t(4780),i=t(43210);let l=({className:e,label:r,type:t,placeholder:l,required:d,disabled:o,active:n,handleChange:c,icon:p,...u})=>{let m=(0,i.useId)();return(0,a.jsxs)("div",{className:e,children:[(0,a.jsxs)("label",{htmlFor:m,className:"text-body-sm font-medium text-dark dark:text-white",children:[r,d&&(0,a.jsx)("span",{className:"ml-1 select-none text-red",children:"*"})]}),(0,a.jsxs)("div",{className:(0,s.cn)("relative mt-3 [&_svg]:absolute [&_svg]:top-1/2 [&_svg]:-translate-y-1/2","left"===u.iconPosition?"[&_svg]:left-4.5":"[&_svg]:right-4.5"),children:[(0,a.jsx)("input",{id:m,type:t,name:u.name,placeholder:l,onChange:c,value:u.value,defaultValue:u.defaultValue,className:(0,s.cn)("w-full rounded-lg border-[1.5px] border-stroke bg-transparent outline-none transition focus:border-primary disabled:cursor-default disabled:bg-gray-2 data-[active=true]:border-primary dark:border-dark-3 dark:bg-dark-2 dark:focus:border-primary dark:disabled:bg-dark dark:data-[active=true]:border-primary","file"===t?"style1"===u.fileStyleVariant?"file:mr-5 file:border-collapse file:cursor-pointer file:border-0 file:border-r file:border-solid file:border-stroke file:bg-[#E2E8F0] file:px-6.5 file:py-[13px] file:text-body-sm file:font-medium file:text-dark-5 file:hover:bg-primary file:hover:bg-opacity-10 dark:file:border-dark-3 dark:file:bg-white/30 dark:file:text-white":"file:mr-4 file:rounded file:border-[0.5px] file:border-stroke file:bg-stroke file:px-2.5 file:py-1 file:text-body-xs file:font-medium file:text-dark-5 file:focus:border-primary dark:file:border-dark-3 dark:file:bg-white/30 dark:file:text-white px-3 py-[9px]":"px-5.5 py-3 text-dark placeholder:text-dark-6 dark:text-white","left"===u.iconPosition&&"pl-12.5","sm"===u.height&&"py-2.5"),required:d,disabled:o,"data-active":n}),p]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39522:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(60687),s=t(85814),i=t.n(s);let l=({pageName:e})=>(0,a.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsx)("h2",{className:"text-[26px] font-bold leading-[30px] text-dark dark:text-white",children:e}),(0,a.jsx)("nav",{children:(0,a.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(i(),{className:"font-medium",href:"/",children:"Dashboard /"})}),(0,a.jsx)("li",{className:"font-medium text-primary",children:e})]})})]});var d=t(43210),o=t(80083),n=t(16542),c=t(4780);function p({title:e,children:r,className:t}){return(0,a.jsxs)("div",{className:"rounded-[10px] bg-white shadow-1 dark:bg-gray-dark dark:shadow-card",children:[(0,a.jsx)("h2",{className:"border-b border-stroke px-4 py-4 font-medium text-dark dark:border-dark-3 dark:text-white sm:px-6 xl:px-7.5",children:e}),(0,a.jsx)("div",{className:(0,c.cn)("p-4 sm:p-6 xl:p-10",t),children:r})]})}var u=t(51060);t(75253);let m=({userData:e})=>{let[r,t]=(0,d.useState)(!1),[s,i]=(0,d.useState)({fullName:""}),l=async r=>{if(r.preventDefault(),s.fullName!=e?.fullName)try{let e=await u.A.post("https://api.scanvirus.me/User/update-fullname",{fullName:s.fullName},{withCredentials:!0});200===e.status?(t(!0),window.dispatchEvent(new Event("update-header")),console.log("Cập nhật th\xe0nh c\xf4ng:",e.data),setTimeout(()=>{t(!1)},5e3)):console.error("Kh\xf4ng thể cập nhật:",e.status)}catch(e){console.error(e)}console.log("Submit data:",s)};return e?(0,a.jsx)(p,{title:"Personal Information",className:"!p-7",children:(0,a.jsxs)("form",{onSubmit:l,children:[r&&(0,a.jsxs)("div",{className:"pyro",children:[(0,a.jsx)("div",{className:"before"}),(0,a.jsx)("div",{className:"after"})]}),(0,a.jsx)(n.A,{className:"mb-5.5",type:"email",name:"email",label:"Email Address",placeholder:e.email,defaultValue:e.email,disabled:!0,icon:(0,a.jsx)(o.aZ,{}),iconPosition:"left",height:"sm"}),(0,a.jsx)(n.A,{className:"mb-5.5",type:"text",name:"fullName",label:"Full Name",placeholder:e.fullName,defaultValue:e.fullName,handleChange:e=>{i({...s,[e.target.name]:e.target.value})},icon:(0,a.jsx)(o.ny,{}),iconPosition:"left",height:"sm"}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{className:"rounded-lg border border-stroke px-6 py-[7px] font-medium text-dark hover:shadow-1    dark:border-dark-3 dark:text-white",type:"button",onClick:()=>i({fullName:e.fullName}),children:"Cancel"}),(0,a.jsx)("button",{className:"rounded-lg bg-primary px-6 py-[7px] font-medium text-gray-2 hover:bg-opacity-90",type:"submit",children:"Save"})]})]})}):"vui l\xf2ng đăng nhập"};var x=t(30474);let h=({userData:e})=>{let[r,t]=(0,d.useState)(null),[s,i]=(0,d.useState)(!1),[l,n]=(0,d.useState)(!1),[c,m]=(0,d.useState)(null);if(!e)return(0,a.jsx)("div",{children:"Vui l\xf2ng đăng nhập"});let h=async e=>{if(e.preventDefault(),!r)return;i(!0);let a=new FormData;a.append("avatar",r);try{let e=await u.A.post("https://api.scanvirus.me/User/update-avatar",a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});200===e.status&&(window.dispatchEvent(new Event("update-header")),n(!0),setTimeout(()=>{n(!1)},5e3))}catch(e){console.error(e)}finally{i(!1),t(null),m(null)}};return(0,a.jsxs)(p,{title:"Your Photo",className:"!p-7",children:[l&&(0,a.jsxs)("div",{className:"pyro",children:[(0,a.jsx)("div",{className:"before"}),(0,a.jsx)("div",{className:"after"})]}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,a.jsx)(x.default,{src:c||e?.avatarUrl||"/default-avatar.png",width:55,height:55,alt:"User",className:"size-14 rounded-full object-cover",quality:90}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"mb-1.5 font-medium text-dark dark:text-white",children:"Edit your photo"})})]}),(0,a.jsxs)("div",{className:"relative mb-5.5 block w-full rounded-xl border border-dashed border-gray-4 bg-gray-2 hover:border-primary dark:border-dark-3 dark:bg-dark-2 dark:hover:border-primary",children:[(0,a.jsx)("input",{type:"file",name:"profilePhoto",id:"profilePhoto",accept:"image/png, image/jpg, image/jpeg",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];t(r),m(URL.createObjectURL(r))}},hidden:!0}),(0,a.jsxs)("label",{htmlFor:"profilePhoto",className:"flex cursor-pointer flex-col items-center justify-center p-4 sm:py-7.5",children:[(0,a.jsx)("div",{className:"flex size-13.5 items-center justify-center rounded-full border border-stroke bg-white dark:border-dark-3 dark:bg-gray-dark",children:(0,a.jsx)(o.JM,{})}),(0,a.jsxs)("p",{className:"mt-2.5 text-body-sm font-medium",children:[(0,a.jsx)("span",{className:"text-primary",children:"Click to upload"})," or drag and drop"]}),(0,a.jsx)("p",{className:"mt-1 text-body-xs",children:"SVG, PNG, JPG or GIF (max, 800 X 800px)"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{className:"flex justify-center rounded-lg border border-stroke px-6 py-[7px] font-medium text-dark hover:shadow-1 dark:border-dark-3 dark:text-white",type:"button",onClick:()=>{t(null),m(null)},disabled:s,children:"Cancel"}),(0,a.jsx)("button",{className:"flex items-center justify-center rounded-lg bg-primary px-6 py-[7px] font-medium text-gray-2 hover:bg-opacity-90",type:"submit",disabled:s,children:s?"Đang lưu...":"Save"})]})]})]})};function f(){let[e,r]=(0,d.useState)(!1),[t,s]=(0,d.useState)({oldpassword:"",newpassword:"",repassword:""}),[i,l]=(0,d.useState)(!1),c=e=>{s({...t,[e.target.name]:e.target.value})},m=async e=>{if(e.preventDefault(),t.newpassword===t.repassword)try{let e=await u.A.post("https://api.scanvirus.me/User/change-password",{currentPassword:t.oldpassword,newPassword:t.newpassword},{withCredentials:!0});200===e.status?(l(!1),r(!0),window.dispatchEvent(new Event("update-header")),console.log("Cập nhật th\xe0nh c\xf4ng:",e.data),setTimeout(()=>{r(!1)},5e3)):console.error("Kh\xf4ng thể cập nhật:",e.status)}catch(e){console.error(e)}console.log("Submit data:",t)};return(0,a.jsxs)(p,{title:"Change Password",className:"!p-7",children:[(0,a.jsxs)("div",{className:"relative",children:[e&&(0,a.jsxs)("div",{className:"pyro",children:[(0,a.jsx)("div",{className:"before"}),(0,a.jsx)("div",{className:"after"})]}),(0,a.jsx)("input",{className:"form-datepicker w-full rounded-[7px] border-[1.5px]    border-stroke bg-transparent px-5 py-3 font-normal outline-none    transition focus:border-primary active:border-primary dark:border-dark-3    dark:bg-dark-2 dark:focus:border-primary cursor-pointer",placeholder:"Change Password","data-class":"flatpickr-right",readOnly:!0,onClick:()=>l(!0)}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 left-auto right-5 flex items-center text-dark-4 dark:text-dark-6",children:(0,a.jsx)(o.Mt,{className:"rotate-90"})})]}),i&&(0,a.jsx)("div",{className:"fixed inset-0 z-[999] flex justify-center items-center bg-gray-500 bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white z-[999] p-6 rounded-lg shadow-lg w-11/12 sm:w-1/3 md:w-1/4 lg:w-1/5 dark:bg-gray-dark dark:shadow-card",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Change Your Password"}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsx)(n.A,{className:"mt-2.5",type:"password",name:"oldpassword",label:"Old Password",placeholder:"Old Password",handleChange:c,required:!0}),(0,a.jsx)(n.A,{className:"mt-2.5",type:"password",name:"newpassword",label:"New Password",placeholder:"New Password",handleChange:c,required:!0}),(0,a.jsx)(n.A,{className:"mt-2 mb-4.5",type:"password",name:"repassword",label:"Re Password",placeholder:"Re Password",handleChange:c,required:!0}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"submit",className:"rounded-lg bg-primary px-6 py-[7px] font-medium text-gray-2 hover:bg-opacity-90",children:"Submit"}),(0,a.jsx)("button",{type:"button",onClick:()=>l(!1),className:"rounded-lg border border-stroke px-6 py-[7px] font-medium text-dark hover:shadow-1 dark:border-dark-3 dark:text-white",children:"Cancel"})]})]})]})})]})}var b=t(28626);function g(){let[e,r]=(0,d.useState)(null);return((0,d.useCallback)(async()=>{r(await (0,b.u)())},[]),e)?(0,a.jsxs)("div",{className:"mx-auto w-full max-w-[1080px]",children:[(0,a.jsx)(l,{pageName:"Profile"}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-8",children:[(0,a.jsxs)("div",{className:"col-span-5 xl:col-span-3",children:[(0,a.jsx)(m,{userData:e}),(0,a.jsx)("div",{className:"mt-6.5",children:(0,a.jsx)(f,{})})]}),(0,a.jsx)("div",{className:"col-span-5 xl:col-span-2",children:(0,a.jsx)(h,{userData:e})})]})]}):"Vui l\xf2ng đăng nhập"}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58800:(e,r,t)=>{Promise.resolve().then(t.bind(t,39522))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(31658);let s=async e=>[{type:"image/x-icon",sizes:"244x241",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},75253:()=>{},75758:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\chaur\\\\OneDrive\\\\M\xe1y t\xednh\\\\LangStudio\\\\langstudio-ui\\\\src\\\\app\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\chaur\\OneDrive\\M\xe1y t\xednh\\LangStudio\\langstudio-ui\\src\\app\\profile\\page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},92379:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>n});var a=t(65239),s=t(48088),i=t(88170),l=t.n(i),d=t(30893),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);t.d(r,o);let n={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,75758)),"C:\\Users\\chaur\\OneDrive\\M\xe1y t\xednh\\LangStudio\\langstudio-ui\\src\\app\\profile\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\chaur\\OneDrive\\M\xe1y t\xednh\\LangStudio\\langstudio-ui\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\chaur\\OneDrive\\M\xe1y t\xednh\\LangStudio\\langstudio-ui\\src\\app\\profile\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[447,575,658,81],()=>t(92379));module.exports=a})();